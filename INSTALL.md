# راهنمای نصب و استفاده از افزونه تست تشخیص چاقی

## مراحل نصب

### 1. آپلود افزونه
- تمام فایل‌های افزونه را در پوشه `/wp-content/plugins/obesity-assessment/` قرار دهید
- ساختار پوشه باید به این صورت باشد:
```
obesity-assessment/
├── obesity-assessment.php
├── admin/
│   ├── dashboard.php
│   └── ajax-handlers.php
├── templates/
│   ├── quiz-form.php
│   ├── quiz-form-all.php
│   └── result-page.php
├── assets/
│   ├── css/
│   │   ├── frontend.css
│   │   └── admin.css
│   └── js/
│       ├── frontend.js
│       └── admin.js
├── README.md
└── test-plugin.php
```

### 2. فعال‌سازی افزونه
- وارد پنل ادمین وردپرس شوید
- به بخش "افزونه‌ها" بروید
- افزونه "تست تشخیص نوع چاقی" را فعال کنید

### 3. بررسی نصب
- افزونه به‌طور خودکار جداول دیتابیس و داده‌های پیش‌فرض را ایجاد می‌کند
- برای بررسی، فایل `test-plugin.php` را در مرورگر اجرا کنید

## نحوه استفاده

### نمایش فرم تست

#### حالت مرحله‌ای (پیش‌فرض)
در هر برگه یا نوشته، شورت‌کد زیر را قرار دهید:
```
[oa_quiz]
```
یا
```
[obesity_assessment]
```

#### حالت همه سوالات در یک صفحه
برای نمایش تمام سوالات در یک صفحه:
```
[oa_quiz_all]
```

### تفاوت بین دو حالت نمایش

#### حالت مرحله‌ای (`[oa_quiz]`)
- **مزایا**: تجربه کاربری بهتر، کاهش خستگی، نوار پیشرفت
- **معایب**: زمان بیشتر برای تکمیل تست
- **مناسب برای**: کاربران جدید، تجربه بهتر

#### حالت همه سوالات (`[oa_quiz_all]`)
- **مزایا**: سرعت بیشتر، امکان مرور کلی، پاسخ‌دهی یکجا
- **معایب**: صفحه طولانی، ممکن است کاربر را خسته کند
- **مناسب برای**: کاربران باتجربه، تکمیل سریع تست

### مدیریت از پنل ادمین
- به منوی "تست تشخیص چاقی" در پنل ادمین بروید
- از تب‌های مختلف برای مدیریت گروه‌ها، سوالات و نتایج استفاده کنید

### منوی سایت
- گزینه "ویدئوی دستهٔ شما" به‌طور خودکار به منوی اصلی اضافه می‌شود
- این گزینه آخرین نتیجه کاربر را نمایش می‌دهد

## تنظیمات پیش‌فرض

افزونه با 9 گروه چاقی و 36 سوال پیش‌فرض نصب می‌شود:

1. **چاقی هورمونی** - ویدیو: F04-00.mp4
2. **چاقی استرسی** - ویدیو: F4-01.mp4  
3. **چاقی متابولیک** - ویدیو: F4-0.mp4
4. **چاقی احساسی** - ویدیو: F4-02.mp4
5. **چاقی ژنتیکی** - ویدیو: F4-04.mp4
6. **چاقی یویویی** - ویدیو: F4-03.mp4
7. **چاقی بی‌تحرکی** - ویدیو: F4-05.mp4
8. **چاقی عادتی** - ویدیو: (در حال تکمیل)
9. **چاقی ترکیبی** - ویدیو: (در حال تکمیل)

## شخصی‌سازی

### تغییر ویدیوها
- از پنل ادمین، تب "گروه‌ها" را انتخاب کنید
- روی "ویرایش" کلیک کنید
- لینک ویدیو جدید را وارد کنید

### ویرایش سوالات
- از پنل ادمین، تب "سوالات" را انتخاب کنید
- سوالات و گزینه‌ها را ویرایش کنید
- امتیازات را تغییر دهید

### تغییر استایل‌ها
- فایل‌های CSS در پوشه `assets/css/` قرار دارند
- می‌توانید رنگ‌ها، فونت‌ها و چیدمان را تغییر دهید

## عیب‌یابی

### مشکلات رایج

1. **فرم نمایش داده نمی‌شود**
   - بررسی کنید شورت‌کد `[oa_quiz]` یا `[oa_quiz_all]` درست وارد شده باشد
   - کش افزونه را پاک کنید

2. **ویدیو پخش نمی‌شود**
   - لینک ویدیو را بررسی کنید
   - فرمت ویدیو باید MP4 باشد

3. **نتیجه ذخیره نمی‌شود**
   - بررسی کنید session در وردپرس فعال باشد
   - جداول دیتابیس را بررسی کنید

### بررسی جداول دیتابیس
```sql
-- بررسی وجود جداول
SHOW TABLES LIKE 'wp_oa_%';

-- بررسی تعداد رکوردها
SELECT COUNT(*) FROM wp_oa_groups;
SELECT COUNT(*) FROM wp_oa_questions;
SELECT COUNT(*) FROM wp_oa_options;
```

## پشتیبانی

برای پشتیبانی فنی یا گزارش باگ:
- ایمیل: support@elahejavid.ir
- وب‌سایت: https://elahejavid.ir

## به‌روزرسانی

برای به‌روزرسانی افزونه:
1. نسخه قدیمی را غیرفعال کنید
2. فایل‌های جدید را جایگزین کنید
3. افزونه را دوباره فعال کنید
4. داده‌های موجود حفظ می‌شوند

## نکات امنیتی

- فایل `test-plugin.php` را بعد از تست حذف کنید
- دسترسی به پنل ادمین را محدود کنید
- از نسخه‌های جدید وردپرس استفاده کنید
- افزونه‌های غیرضروری را غیرفعال کنید
